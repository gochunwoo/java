<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8">
<title>화살표 함수</title>
</head>

<body>
	<h2>화살표 함수</h2>
	함수 표현식 보다 단순한 문법으로 함수 작성
	<br> 형식 : let 변수명 = (매개변수...) => 표현식
	<hr>

	<script type="text/javascript">

    // 1. 매개변수 복수인 경우
    let sum1 = function(a, b) {
      return a + b;
    };
    console.log(sum1(2, 3)); // 5

    // 위의 함수를 화살표 함수로 표현
    let sum2 = (a, b) => a + b; // 익명함수의 주소를 치환
    console.log(sum2(2, 3)); // 5


    // 2. 매개변수 단수인 경우
    let double1 = function(n) {
      return n * 2;
    };
    console.log(`double1 : ${double1(3)}`); // 6

    // ( n ) => n * 2에서 ()를 생략 가능
    let double2 = n => n * 2; // 위 함수를 화살표 함수로 표현
    console.log(`double2 : ${double2(3)}`); // 6


    // 3. 매개변수가 없는 경우 화살표 함수
    let sayHi = () => console.log(`Hello`);
    sayHi(); // Hello


    // 4. 조건부로 화살표 함수 사용
    let age = 33;
    let welcome = (age < 30) ? () => console.log('안녕') : () => console.log('반가워');
    welcome(); // 반가워


    // 5. 본문이 복수일 때 return 키워드를 사용하는 화살표 함수
    let sumFunc = (a, b) => {
      let imsi = a + b;
      return imsi;
    };
    console.log(`합은 ${sumFunc(3, 4)}`); // 7


    // 6. 콜백 처리 (함수를 매개변수로 넘기는 예)
    console.log(`--------------`);
    function myfunc(...para) {
      console.log(`para 크기: ${para.length}, ${para}`);

      // 배열처럼 처리
      for (let i = 0; i < para.length; i++) {
        console.log(para[i]);
      }

      // for...of 문
      for (let s of para) {
        console.log(s);
      }

      // forEach (콜백함수 사용)
      console.log('forEach ------------');
      para.forEach(function(obj) { // 일반 함수 표현식 사용
        console.log(obj);
      });

      // 화살표 함수 사용
      para.forEach(obj => console.log(obj));
    }

    myfunc('a', 'b', 'c', 'd'); // a, b, c, d


    // 7. 콜백을 지원하는 내장 함수들
    console.log('콜백 지원 내장함수 ---');

    // setInterval: 일정한 시간 간격으로 반복 실행
    // setInterval(() => console.log(new Date()), 2000); // 2초마다 현재 시간 출력

    // setTimeout: 지정된 시간이 경과한 후 한 번 실행
    setTimeout(function() {
      console.log("3초 후에 실행됨");
    }, 3000);

  </script>

</body>

</html>
